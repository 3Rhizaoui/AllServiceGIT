"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/projects/page",{

/***/ "(app-pages-browser)/./src/lib/projects-store.ts":
/*!***********************************!*\
  !*** ./src/lib/projects-store.ts ***!
  \***********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   acceptOffer: function() { return /* binding */ acceptOffer; },\n/* harmony export */   addOffer: function() { return /* binding */ addOffer; },\n/* harmony export */   canChat: function() { return /* binding */ canChat; },\n/* harmony export */   createOffer: function() { return /* binding */ createOffer; },\n/* harmony export */   createProject: function() { return /* binding */ createProject; },\n/* harmony export */   debugSeedForEmail: function() { return /* binding */ debugSeedForEmail; },\n/* harmony export */   formatEuro: function() { return /* binding */ formatEuro; },\n/* harmony export */   getProject: function() { return /* binding */ getProject; },\n/* harmony export */   getProjectById: function() { return /* binding */ getProjectById; },\n/* harmony export */   labelCategory: function() { return /* binding */ labelCategory; },\n/* harmony export */   listMyProjects: function() { return /* binding */ listMyProjects; },\n/* harmony export */   listOffers: function() { return /* binding */ listOffers; },\n/* harmony export */   listOpenProjects: function() { return /* binding */ listOpenProjects; }\n/* harmony export */ });\n/* __next_internal_client_entry_do_not_use__ labelCategory,formatEuro,debugSeedForEmail,createProject,listMyProjects,listOpenProjects,getProject,getProjectById,listOffers,createOffer,addOffer,acceptOffer,canChat auto */ const LS_KEY = \"allservices.projects.v1\";\nfunction now() {\n    return Date.now();\n}\nfunction uid(prefix) {\n    return \"\".concat(prefix, \"_\").concat(Math.random().toString(16).slice(2), \"_\").concat(Date.now());\n}\nfunction safeJsonParse(raw, fallback) {\n    if (!raw) return fallback;\n    try {\n        return JSON.parse(raw);\n    } catch (e) {\n        return fallback;\n    }\n}\nfunction toNumber(v, fallback) {\n    const n = Number(v);\n    return Number.isFinite(n) ? n : fallback;\n}\nfunction normalizeOffer(o) {\n    return {\n        id: String((o === null || o === void 0 ? void 0 : o.id) || uid(\"offer\")),\n        projectId: String((o === null || o === void 0 ? void 0 : o.projectId) || \"\"),\n        proEmail: String((o === null || o === void 0 ? void 0 : o.proEmail) || \"\").toLowerCase(),\n        priceEur: toNumber(o === null || o === void 0 ? void 0 : o.priceEur, 0),\n        durationDays: toNumber(o === null || o === void 0 ? void 0 : o.durationDays, 0),\n        message: (o === null || o === void 0 ? void 0 : o.message) ? String(o.message) : undefined,\n        createdAt: toNumber(o === null || o === void 0 ? void 0 : o.createdAt, now())\n    };\n}\nfunction normalizeProject(p) {\n    return {\n        id: String((p === null || p === void 0 ? void 0 : p.id) || uid(\"proj\")),\n        ownerEmail: String((p === null || p === void 0 ? void 0 : p.ownerEmail) || \"\").toLowerCase(),\n        title: String((p === null || p === void 0 ? void 0 : p.title) || \"\"),\n        category: (p === null || p === void 0 ? void 0 : p.category) || \"autre\",\n        description: String((p === null || p === void 0 ? void 0 : p.description) || \"\"),\n        city: (p === null || p === void 0 ? void 0 : p.city) ? String(p.city) : undefined,\n        createdAt: toNumber(p === null || p === void 0 ? void 0 : p.createdAt, now()),\n        status: (p === null || p === void 0 ? void 0 : p.status) || \"open\",\n        assignedProEmail: (p === null || p === void 0 ? void 0 : p.assignedProEmail) ? String(p.assignedProEmail).toLowerCase() : undefined,\n        acceptedOfferId: (p === null || p === void 0 ? void 0 : p.acceptedOfferId) ? String(p.acceptedOfferId) : undefined,\n        offers: Array.isArray(p === null || p === void 0 ? void 0 : p.offers) ? p.offers.map(normalizeOffer) : []\n    };\n}\nfunction loadAll() {\n    if (false) {}\n    const data = safeJsonParse(localStorage.getItem(LS_KEY), []);\n    if (!Array.isArray(data)) return [];\n    return data.map(normalizeProject);\n}\nfunction saveAll(projects) {\n    if (false) {}\n    localStorage.setItem(LS_KEY, JSON.stringify(projects));\n}\n// ---------- Helpers UI ----------\nfunction labelCategory(cat) {\n    switch(cat){\n        case \"renovation\":\n            return \"R\\xe9novation\";\n        case \"plomberie\":\n            return \"Plomberie\";\n        case \"electricite\":\n            return \"\\xc9lectricit\\xe9\";\n        case \"peinture\":\n            return \"Peinture\";\n        case \"menuiserie\":\n            return \"Menuiserie\";\n        case \"jardin\":\n            return \"Jardin\";\n        default:\n            return \"Autre\";\n    }\n}\nfunction formatEuro(value) {\n    try {\n        return new Intl.NumberFormat(\"fr-FR\", {\n            style: \"currency\",\n            currency: \"EUR\"\n        }).format(value);\n    } catch (e) {\n        return \"\".concat(value, \" €\");\n    }\n}\n/**\n * IMPORTANT (privacy) :\n * - PAS de seed automatique.\n * Si tu veux un seed pour démo, appelle cette fonction MANUELLEMENT\n * depuis une page de dev, et seulement pour l'email concerné.\n */ function debugSeedForEmail(ownerEmailForSamples) {\n    const email = ownerEmailForSamples.trim().toLowerCase();\n    if (!email) return;\n    const all = loadAll();\n    const alreadyHas = all.some((p)=>p.ownerEmail === email);\n    if (alreadyHas) return;\n    const sample = [\n        {\n            id: uid(\"proj\"),\n            ownerEmail: email,\n            title: \"Pose de parquet (salon 20m\\xb2)\",\n            category: \"renovation\",\n            description: \"Je souhaite poser un parquet stratifi\\xe9 dans un salon. Le sol est plat. Merci de proposer un prix + dur\\xe9e.\",\n            city: \"Massy\",\n            createdAt: now() - 1000 * 60 * 60 * 24 * 2,\n            status: \"open\",\n            offers: []\n        },\n        {\n            id: uid(\"proj\"),\n            ownerEmail: email,\n            title: \"Remplacement robinet cuisine\",\n            category: \"plomberie\",\n            description: \"Robinet qui fuit. Remplacement + v\\xe9rification \\xe9tanch\\xe9it\\xe9.\",\n            city: \"Paris\",\n            createdAt: now() - 1000 * 60 * 60 * 24,\n            status: \"open\",\n            offers: []\n        }\n    ];\n    saveAll([\n        ...sample,\n        ...all\n    ]);\n}\n// ---------- CRUD ----------\nfunction createProject(input) {\n    var _input_city;\n    const ownerEmail = input.ownerEmail.trim().toLowerCase();\n    if (!ownerEmail) throw new Error(\"Owner email requis.\");\n    if (!input.title.trim()) throw new Error(\"Titre requis.\");\n    if (!input.description.trim()) throw new Error(\"Description requise.\");\n    const projects = loadAll();\n    const p = {\n        id: uid(\"proj\"),\n        ownerEmail,\n        title: input.title.trim(),\n        category: input.category,\n        description: input.description.trim(),\n        city: ((_input_city = input.city) === null || _input_city === void 0 ? void 0 : _input_city.trim()) || undefined,\n        createdAt: now(),\n        status: \"open\",\n        offers: []\n    };\n    projects.unshift(p);\n    saveAll(projects);\n    return p;\n}\nfunction listMyProjects(ownerEmail) {\n    const email = ownerEmail.trim().toLowerCase();\n    const projects = loadAll();\n    return projects.filter((p)=>p.ownerEmail === email).sort((a, b)=>b.createdAt - a.createdAt);\n}\nfunction listOpenProjects(filter) {\n    const projects = loadAll();\n    const open = projects.filter((p)=>p.status === \"open\");\n    const filtered = (filter === null || filter === void 0 ? void 0 : filter.category) ? open.filter((p)=>p.category === filter.category) : open;\n    return filtered.sort((a, b)=>b.createdAt - a.createdAt);\n}\n// Alias attendu par tes pages\nfunction getProject(id) {\n    return getProjectById(id);\n}\nfunction getProjectById(id) {\n    const projects = loadAll();\n    var _projects_find;\n    return (_projects_find = projects.find((p)=>p.id === id)) !== null && _projects_find !== void 0 ? _projects_find : null;\n}\n// Alias attendu par tes pages\nfunction listOffers(projectId) {\n    const p = getProjectById(projectId);\n    var _p_offers;\n    return (_p_offers = p === null || p === void 0 ? void 0 : p.offers) !== null && _p_offers !== void 0 ? _p_offers : [];\n}\n// Alias attendu par tes pages (createOffer)\nfunction createOffer(input) {\n    return addOffer(input);\n}\nfunction addOffer(input) {\n    var _input_message;\n    const projects = loadAll();\n    const p = projects.find((x)=>x.id === input.projectId);\n    if (!p) throw new Error(\"Projet introuvable.\");\n    if (p.status !== \"open\") throw new Error(\"Ce projet n'accepte plus d'offres.\");\n    const proEmail = input.proEmail.trim().toLowerCase();\n    if (!proEmail) throw new Error(\"Email pro requis.\");\n    const offer = {\n        id: uid(\"offer\"),\n        projectId: input.projectId,\n        proEmail,\n        priceEur: toNumber(input.priceEur, 0),\n        durationDays: toNumber(input.durationDays, 0),\n        message: ((_input_message = input.message) === null || _input_message === void 0 ? void 0 : _input_message.trim()) || undefined,\n        createdAt: now()\n    };\n    p.offers.unshift(offer);\n    saveAll(projects);\n    return offer;\n}\nfunction acceptOffer(a, b) {\n    if (typeof a === \"string\") {\n        // acceptOffer(projectId, offerId)\n        const projectId = a;\n        const offerId = String(b || \"\");\n        return acceptOfferInternal({\n            projectId,\n            offerId\n        });\n    }\n    // acceptOffer({ projectId, offerId, ownerEmail })\n    return acceptOfferInternal(a);\n}\nfunction acceptOfferInternal(input) {\n    const projects = loadAll();\n    const p = projects.find((x)=>x.id === input.projectId);\n    if (!p) throw new Error(\"Projet introuvable.\");\n    if (p.status !== \"open\") throw new Error(\"Projet d\\xe9j\\xe0 trait\\xe9.\");\n    if (input.ownerEmail) {\n        const owner = input.ownerEmail.trim().toLowerCase();\n        if (p.ownerEmail !== owner) throw new Error(\"Acc\\xe8s refus\\xe9.\");\n    }\n    const offer = p.offers.find((o)=>o.id === input.offerId);\n    if (!offer) throw new Error(\"Offre introuvable.\");\n    p.status = \"assigned\";\n    p.assignedProEmail = offer.proEmail;\n    p.acceptedOfferId = offer.id;\n    saveAll(projects);\n}\nfunction canChat(project, userEmail) {\n    var _project_assignedProEmail;\n    const e = userEmail.trim().toLowerCase();\n    const owner = project.ownerEmail === e;\n    const pro = ((_project_assignedProEmail = project.assignedProEmail) === null || _project_assignedProEmail === void 0 ? void 0 : _project_assignedProEmail.toLowerCase()) === e;\n    return project.status === \"assigned\" && (owner || pro);\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL3NyYy9saWIvcHJvamVjdHMtc3RvcmUudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7Ozs0TkE4Q0EsTUFBTUEsU0FBUztBQUVmLFNBQVNDO0lBQ1AsT0FBT0MsS0FBS0QsR0FBRztBQUNqQjtBQUVBLFNBQVNFLElBQUlDLE1BQWM7SUFDekIsT0FBTyxHQUFhQyxPQUFWRCxRQUFPLEtBQTBDRixPQUF2Q0csS0FBS0MsTUFBTSxHQUFHQyxRQUFRLENBQUMsSUFBSUMsS0FBSyxDQUFDLElBQUcsS0FBYyxPQUFYTixLQUFLRCxHQUFHO0FBQ3JFO0FBRUEsU0FBU1EsY0FBaUJDLEdBQWtCLEVBQUVDLFFBQVc7SUFDdkQsSUFBSSxDQUFDRCxLQUFLLE9BQU9DO0lBQ2pCLElBQUk7UUFDRixPQUFPQyxLQUFLQyxLQUFLLENBQUNIO0lBQ3BCLEVBQUUsVUFBTTtRQUNOLE9BQU9DO0lBQ1Q7QUFDRjtBQUVBLFNBQVNHLFNBQVNDLENBQU0sRUFBRUosUUFBZ0I7SUFDeEMsTUFBTUssSUFBSUMsT0FBT0Y7SUFDakIsT0FBT0UsT0FBT0MsUUFBUSxDQUFDRixLQUFLQSxJQUFJTDtBQUNsQztBQUVBLFNBQVNRLGVBQWVDLENBQU07SUFDNUIsT0FBTztRQUNMQyxJQUFJQyxPQUFPRixDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0MsRUFBRSxLQUFJbEIsSUFBSTtRQUN4Qm9CLFdBQVdELE9BQU9GLENBQUFBLGNBQUFBLHdCQUFBQSxFQUFHRyxTQUFTLEtBQUk7UUFDbENDLFVBQVVGLE9BQU9GLENBQUFBLGNBQUFBLHdCQUFBQSxFQUFHSSxRQUFRLEtBQUksSUFBSUMsV0FBVztRQUMvQ0MsVUFBVVosU0FBU00sY0FBQUEsd0JBQUFBLEVBQUdNLFFBQVEsRUFBRTtRQUNoQ0MsY0FBY2IsU0FBU00sY0FBQUEsd0JBQUFBLEVBQUdPLFlBQVksRUFBRTtRQUN4Q0MsU0FBU1IsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdRLE9BQU8sSUFBR04sT0FBT0YsRUFBRVEsT0FBTyxJQUFJQztRQUMxQ0MsV0FBV2hCLFNBQVNNLGNBQUFBLHdCQUFBQSxFQUFHVSxTQUFTLEVBQUU3QjtJQUNwQztBQUNGO0FBRUEsU0FBUzhCLGlCQUFpQkMsQ0FBTTtJQUM5QixPQUFPO1FBQ0xYLElBQUlDLE9BQU9VLENBQUFBLGNBQUFBLHdCQUFBQSxFQUFHWCxFQUFFLEtBQUlsQixJQUFJO1FBQ3hCOEIsWUFBWVgsT0FBT1UsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdDLFVBQVUsS0FBSSxJQUFJUixXQUFXO1FBQ25EUyxPQUFPWixPQUFPVSxDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0UsS0FBSyxLQUFJO1FBQzFCQyxVQUFVLENBQUNILGNBQUFBLHdCQUFBQSxFQUFHRyxRQUFRLEtBQXdCO1FBQzlDQyxhQUFhZCxPQUFPVSxDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0ksV0FBVyxLQUFJO1FBQ3RDQyxNQUFNTCxDQUFBQSxjQUFBQSx3QkFBQUEsRUFBR0ssSUFBSSxJQUFHZixPQUFPVSxFQUFFSyxJQUFJLElBQUlSO1FBQ2pDQyxXQUFXaEIsU0FBU2tCLGNBQUFBLHdCQUFBQSxFQUFHRixTQUFTLEVBQUU3QjtRQUNsQ3FDLFFBQVEsQ0FBQ04sY0FBQUEsd0JBQUFBLEVBQUdNLE1BQU0sS0FBc0I7UUFDeENDLGtCQUFrQlAsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdPLGdCQUFnQixJQUFHakIsT0FBT1UsRUFBRU8sZ0JBQWdCLEVBQUVkLFdBQVcsS0FBS0k7UUFDbkZXLGlCQUFpQlIsQ0FBQUEsY0FBQUEsd0JBQUFBLEVBQUdRLGVBQWUsSUFBR2xCLE9BQU9VLEVBQUVRLGVBQWUsSUFBSVg7UUFDbEVZLFFBQVFDLE1BQU1DLE9BQU8sQ0FBQ1gsY0FBQUEsd0JBQUFBLEVBQUdTLE1BQU0sSUFBSVQsRUFBRVMsTUFBTSxDQUFDRyxHQUFHLENBQUN6QixrQkFBa0IsRUFBRTtJQUN0RTtBQUNGO0FBRUEsU0FBUzBCO0lBQ1AsSUFBSSxLQUFrQixFQUFhLEVBQVU7SUFDN0MsTUFBTUMsT0FBT3JDLGNBQXFCc0MsYUFBYUMsT0FBTyxDQUFDaEQsU0FBUyxFQUFFO0lBQ2xFLElBQUksQ0FBQzBDLE1BQU1DLE9BQU8sQ0FBQ0csT0FBTyxPQUFPLEVBQUU7SUFDbkMsT0FBT0EsS0FBS0YsR0FBRyxDQUFDYjtBQUNsQjtBQUVBLFNBQVNrQixRQUFRQyxRQUFtQjtJQUNsQyxJQUFJLEtBQWtCLEVBQWEsRUFBTztJQUMxQ0gsYUFBYUksT0FBTyxDQUFDbkQsUUFBUVksS0FBS3dDLFNBQVMsQ0FBQ0Y7QUFDOUM7QUFFQSxtQ0FBbUM7QUFDNUIsU0FBU0csY0FBY0MsR0FBb0I7SUFDaEQsT0FBUUE7UUFDTixLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVCxLQUFLO1lBQ0gsT0FBTztRQUNULEtBQUs7WUFDSCxPQUFPO1FBQ1QsS0FBSztZQUNILE9BQU87UUFDVDtZQUNFLE9BQU87SUFDWDtBQUNGO0FBRU8sU0FBU0MsV0FBV0MsS0FBYTtJQUN0QyxJQUFJO1FBQ0YsT0FBTyxJQUFJQyxLQUFLQyxZQUFZLENBQUMsU0FBUztZQUFFQyxPQUFPO1lBQVlDLFVBQVU7UUFBTSxHQUFHQyxNQUFNLENBQUNMO0lBQ3ZGLEVBQUUsVUFBTTtRQUNOLE9BQU8sR0FBUyxPQUFOQSxPQUFNO0lBQ2xCO0FBQ0Y7QUFFQTs7Ozs7Q0FLQyxHQUNNLFNBQVNNLGtCQUFrQkMsb0JBQTRCO0lBQzVELE1BQU1DLFFBQVFELHFCQUFxQkUsSUFBSSxHQUFHeEMsV0FBVztJQUNyRCxJQUFJLENBQUN1QyxPQUFPO0lBRVosTUFBTUUsTUFBTXJCO0lBQ1osTUFBTXNCLGFBQWFELElBQUlFLElBQUksQ0FBQyxDQUFDcEMsSUFBTUEsRUFBRUMsVUFBVSxLQUFLK0I7SUFDcEQsSUFBSUcsWUFBWTtJQUVoQixNQUFNRSxTQUFvQjtRQUN4QjtZQUNFaEQsSUFBSWxCLElBQUk7WUFDUjhCLFlBQVkrQjtZQUNaOUIsT0FBTztZQUNQQyxVQUFVO1lBQ1ZDLGFBQ0U7WUFDRkMsTUFBTTtZQUNOUCxXQUFXN0IsUUFBUSxPQUFPLEtBQUssS0FBSyxLQUFLO1lBQ3pDcUMsUUFBUTtZQUNSRyxRQUFRLEVBQUU7UUFDWjtRQUNBO1lBQ0VwQixJQUFJbEIsSUFBSTtZQUNSOEIsWUFBWStCO1lBQ1o5QixPQUFPO1lBQ1BDLFVBQVU7WUFDVkMsYUFBYTtZQUNiQyxNQUFNO1lBQ05QLFdBQVc3QixRQUFRLE9BQU8sS0FBSyxLQUFLO1lBQ3BDcUMsUUFBUTtZQUNSRyxRQUFRLEVBQUU7UUFDWjtLQUNEO0lBRURRLFFBQVE7V0FBSW9CO1dBQVdIO0tBQUk7QUFDN0I7QUFFQSw2QkFBNkI7QUFDdEIsU0FBU0ksY0FBY0MsS0FNN0I7UUFjU0E7SUFiUixNQUFNdEMsYUFBYXNDLE1BQU10QyxVQUFVLENBQUNnQyxJQUFJLEdBQUd4QyxXQUFXO0lBQ3RELElBQUksQ0FBQ1EsWUFBWSxNQUFNLElBQUl1QyxNQUFNO0lBQ2pDLElBQUksQ0FBQ0QsTUFBTXJDLEtBQUssQ0FBQytCLElBQUksSUFBSSxNQUFNLElBQUlPLE1BQU07SUFDekMsSUFBSSxDQUFDRCxNQUFNbkMsV0FBVyxDQUFDNkIsSUFBSSxJQUFJLE1BQU0sSUFBSU8sTUFBTTtJQUUvQyxNQUFNdEIsV0FBV0w7SUFFakIsTUFBTWIsSUFBYTtRQUNqQlgsSUFBSWxCLElBQUk7UUFDUjhCO1FBQ0FDLE9BQU9xQyxNQUFNckMsS0FBSyxDQUFDK0IsSUFBSTtRQUN2QjlCLFVBQVVvQyxNQUFNcEMsUUFBUTtRQUN4QkMsYUFBYW1DLE1BQU1uQyxXQUFXLENBQUM2QixJQUFJO1FBQ25DNUIsTUFBTWtDLEVBQUFBLGNBQUFBLE1BQU1sQyxJQUFJLGNBQVZrQyxrQ0FBQUEsWUFBWU4sSUFBSSxPQUFNcEM7UUFDNUJDLFdBQVc3QjtRQUNYcUMsUUFBUTtRQUNSRyxRQUFRLEVBQUU7SUFDWjtJQUVBUyxTQUFTdUIsT0FBTyxDQUFDekM7SUFDakJpQixRQUFRQztJQUNSLE9BQU9sQjtBQUNUO0FBRU8sU0FBUzBDLGVBQWV6QyxVQUFrQjtJQUMvQyxNQUFNK0IsUUFBUS9CLFdBQVdnQyxJQUFJLEdBQUd4QyxXQUFXO0lBQzNDLE1BQU15QixXQUFXTDtJQUNqQixPQUFPSyxTQUNKeUIsTUFBTSxDQUFDLENBQUMzQyxJQUFNQSxFQUFFQyxVQUFVLEtBQUsrQixPQUMvQlksSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVoRCxTQUFTLEdBQUcrQyxFQUFFL0MsU0FBUztBQUM3QztBQUVPLFNBQVNpRCxpQkFBaUJKLE1BQXVDO0lBQ3RFLE1BQU16QixXQUFXTDtJQUNqQixNQUFNbUMsT0FBTzlCLFNBQVN5QixNQUFNLENBQUMsQ0FBQzNDLElBQU1BLEVBQUVNLE1BQU0sS0FBSztJQUNqRCxNQUFNMkMsV0FBV04sQ0FBQUEsbUJBQUFBLDZCQUFBQSxPQUFReEMsUUFBUSxJQUFHNkMsS0FBS0wsTUFBTSxDQUFDLENBQUMzQyxJQUFNQSxFQUFFRyxRQUFRLEtBQUt3QyxPQUFPeEMsUUFBUSxJQUFJNkM7SUFDekYsT0FBT0MsU0FBU0wsSUFBSSxDQUFDLENBQUNDLEdBQUdDLElBQU1BLEVBQUVoRCxTQUFTLEdBQUcrQyxFQUFFL0MsU0FBUztBQUMxRDtBQUVBLDhCQUE4QjtBQUN2QixTQUFTb0QsV0FBVzdELEVBQVU7SUFDbkMsT0FBTzhELGVBQWU5RDtBQUN4QjtBQUNPLFNBQVM4RCxlQUFlOUQsRUFBVTtJQUN2QyxNQUFNNkIsV0FBV0w7UUFDVks7SUFBUCxPQUFPQSxDQUFBQSxpQkFBQUEsU0FBU2tDLElBQUksQ0FBQyxDQUFDcEQsSUFBTUEsRUFBRVgsRUFBRSxLQUFLQSxpQkFBOUI2Qiw0QkFBQUEsaUJBQXFDO0FBQzlDO0FBRUEsOEJBQThCO0FBQ3ZCLFNBQVNtQyxXQUFXOUQsU0FBaUI7SUFDMUMsTUFBTVMsSUFBSW1ELGVBQWU1RDtRQUNsQlM7SUFBUCxPQUFPQSxDQUFBQSxZQUFBQSxjQUFBQSx3QkFBQUEsRUFBR1MsTUFBTSxjQUFUVCx1QkFBQUEsWUFBYSxFQUFFO0FBQ3hCO0FBRUEsNENBQTRDO0FBQ3JDLFNBQVNzRCxZQUFZZixLQU0zQjtJQUNDLE9BQU9nQixTQUFTaEI7QUFDbEI7QUFFTyxTQUFTZ0IsU0FBU2hCLEtBTXhCO1FBZVlBO0lBZFgsTUFBTXJCLFdBQVdMO0lBQ2pCLE1BQU1iLElBQUlrQixTQUFTa0MsSUFBSSxDQUFDLENBQUNJLElBQU1BLEVBQUVuRSxFQUFFLEtBQUtrRCxNQUFNaEQsU0FBUztJQUN2RCxJQUFJLENBQUNTLEdBQUcsTUFBTSxJQUFJd0MsTUFBTTtJQUN4QixJQUFJeEMsRUFBRU0sTUFBTSxLQUFLLFFBQVEsTUFBTSxJQUFJa0MsTUFBTTtJQUV6QyxNQUFNaEQsV0FBVytDLE1BQU0vQyxRQUFRLENBQUN5QyxJQUFJLEdBQUd4QyxXQUFXO0lBQ2xELElBQUksQ0FBQ0QsVUFBVSxNQUFNLElBQUlnRCxNQUFNO0lBRS9CLE1BQU1pQixRQUFzQjtRQUMxQnBFLElBQUlsQixJQUFJO1FBQ1JvQixXQUFXZ0QsTUFBTWhELFNBQVM7UUFDMUJDO1FBQ0FFLFVBQVVaLFNBQVN5RCxNQUFNN0MsUUFBUSxFQUFFO1FBQ25DQyxjQUFjYixTQUFTeUQsTUFBTTVDLFlBQVksRUFBRTtRQUMzQ0MsU0FBUzJDLEVBQUFBLGlCQUFBQSxNQUFNM0MsT0FBTyxjQUFiMkMscUNBQUFBLGVBQWVOLElBQUksT0FBTXBDO1FBQ2xDQyxXQUFXN0I7SUFDYjtJQUVBK0IsRUFBRVMsTUFBTSxDQUFDZ0MsT0FBTyxDQUFDZ0I7SUFDakJ4QyxRQUFRQztJQUNSLE9BQU91QztBQUNUO0FBS08sU0FBU0MsWUFBWWIsQ0FBTSxFQUFFQyxDQUFPO0lBQ3pDLElBQUksT0FBT0QsTUFBTSxVQUFVO1FBQ3pCLGtDQUFrQztRQUNsQyxNQUFNdEQsWUFBWXNEO1FBQ2xCLE1BQU1jLFVBQVVyRSxPQUFPd0QsS0FBSztRQUM1QixPQUFPYyxvQkFBb0I7WUFBRXJFO1lBQVdvRTtRQUFRO0lBQ2xEO0lBQ0Esa0RBQWtEO0lBQ2xELE9BQU9DLG9CQUFvQmY7QUFDN0I7QUFFQSxTQUFTZSxvQkFBb0JyQixLQUFrRTtJQUM3RixNQUFNckIsV0FBV0w7SUFDakIsTUFBTWIsSUFBSWtCLFNBQVNrQyxJQUFJLENBQUMsQ0FBQ0ksSUFBTUEsRUFBRW5FLEVBQUUsS0FBS2tELE1BQU1oRCxTQUFTO0lBQ3ZELElBQUksQ0FBQ1MsR0FBRyxNQUFNLElBQUl3QyxNQUFNO0lBQ3hCLElBQUl4QyxFQUFFTSxNQUFNLEtBQUssUUFBUSxNQUFNLElBQUlrQyxNQUFNO0lBRXpDLElBQUlELE1BQU10QyxVQUFVLEVBQUU7UUFDcEIsTUFBTTRELFFBQVF0QixNQUFNdEMsVUFBVSxDQUFDZ0MsSUFBSSxHQUFHeEMsV0FBVztRQUNqRCxJQUFJTyxFQUFFQyxVQUFVLEtBQUs0RCxPQUFPLE1BQU0sSUFBSXJCLE1BQU07SUFDOUM7SUFFQSxNQUFNaUIsUUFBUXpELEVBQUVTLE1BQU0sQ0FBQzJDLElBQUksQ0FBQyxDQUFDaEUsSUFBTUEsRUFBRUMsRUFBRSxLQUFLa0QsTUFBTW9CLE9BQU87SUFDekQsSUFBSSxDQUFDRixPQUFPLE1BQU0sSUFBSWpCLE1BQU07SUFFNUJ4QyxFQUFFTSxNQUFNLEdBQUc7SUFDWE4sRUFBRU8sZ0JBQWdCLEdBQUdrRCxNQUFNakUsUUFBUTtJQUNuQ1EsRUFBRVEsZUFBZSxHQUFHaUQsTUFBTXBFLEVBQUU7SUFFNUI0QixRQUFRQztBQUNWO0FBRU8sU0FBUzRDLFFBQVFDLE9BQWdCLEVBQUVDLFNBQWlCO1FBRzdDRDtJQUZaLE1BQU1FLElBQUlELFVBQVUvQixJQUFJLEdBQUd4QyxXQUFXO0lBQ3RDLE1BQU1vRSxRQUFRRSxRQUFROUQsVUFBVSxLQUFLZ0U7SUFDckMsTUFBTUMsTUFBTUgsRUFBQUEsNEJBQUFBLFFBQVF4RCxnQkFBZ0IsY0FBeEJ3RCxnREFBQUEsMEJBQTBCdEUsV0FBVyxRQUFPd0U7SUFDeEQsT0FBT0YsUUFBUXpELE1BQU0sS0FBSyxjQUFldUQsQ0FBQUEsU0FBU0ssR0FBRTtBQUN0RCIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9zcmMvbGliL3Byb2plY3RzLXN0b3JlLnRzPzFhZWUiXSwic291cmNlc0NvbnRlbnQiOlsiJ3VzZSBjbGllbnQnO1xuXG4vKipcbiAqIFYxIHN0b3JlIOKAnHNhbnMgYmFja2VuZOKAnVxuICogLSBTdG9ja2FnZSBsb2NhbFN0b3JhZ2VcbiAqIC0gUHJvamV0cyAoYXBwZWwgZOKAmW9mZnJlKSArIG9mZnJlcyBkZXMgcHJvc1xuICogLSBDb21wYXRpYmxlIGF2ZWMgbGVzIHBhZ2VzIHVzZXIgKyBwcm8gKGltcG9ydHMgc3RhYmxlcylcbiAqL1xuXG5leHBvcnQgdHlwZSBQcm9qZWN0Q2F0ZWdvcnkgPVxuICB8ICdyZW5vdmF0aW9uJ1xuICB8ICdwbG9tYmVyaWUnXG4gIHwgJ2VsZWN0cmljaXRlJ1xuICB8ICdwZWludHVyZSdcbiAgfCAnbWVudWlzZXJpZSdcbiAgfCAnamFyZGluJ1xuICB8ICdhdXRyZSc7XG5cbmV4cG9ydCB0eXBlIFByb2plY3RTdGF0dXMgPSAnb3BlbicgfCAnYXNzaWduZWQnIHwgJ2Nsb3NlZCc7XG5cbmV4cG9ydCB0eXBlIFByb2plY3RPZmZlciA9IHtcbiAgaWQ6IHN0cmluZztcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHByb0VtYWlsOiBzdHJpbmc7XG4gIHByaWNlRXVyOiBudW1iZXI7XG4gIGR1cmF0aW9uRGF5czogbnVtYmVyO1xuICBtZXNzYWdlPzogc3RyaW5nO1xuICBjcmVhdGVkQXQ6IG51bWJlcjsgLy8gdGltZXN0YW1wIG1zXG59O1xuXG5leHBvcnQgdHlwZSBQcm9qZWN0ID0ge1xuICBpZDogc3RyaW5nO1xuICBvd25lckVtYWlsOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBQcm9qZWN0Q2F0ZWdvcnk7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGNpdHk/OiBzdHJpbmc7XG4gIGNyZWF0ZWRBdDogbnVtYmVyOyAvLyB0aW1lc3RhbXAgbXNcbiAgc3RhdHVzOiBQcm9qZWN0U3RhdHVzO1xuXG4gIGFzc2lnbmVkUHJvRW1haWw/OiBzdHJpbmc7XG4gIGFjY2VwdGVkT2ZmZXJJZD86IHN0cmluZztcblxuICBvZmZlcnM6IFByb2plY3RPZmZlcltdO1xufTtcblxuY29uc3QgTFNfS0VZID0gJ2FsbHNlcnZpY2VzLnByb2plY3RzLnYxJztcblxuZnVuY3Rpb24gbm93KCkge1xuICByZXR1cm4gRGF0ZS5ub3coKTtcbn1cblxuZnVuY3Rpb24gdWlkKHByZWZpeDogc3RyaW5nKSB7XG4gIHJldHVybiBgJHtwcmVmaXh9XyR7TWF0aC5yYW5kb20oKS50b1N0cmluZygxNikuc2xpY2UoMil9XyR7RGF0ZS5ub3coKX1gO1xufVxuXG5mdW5jdGlvbiBzYWZlSnNvblBhcnNlPFQ+KHJhdzogc3RyaW5nIHwgbnVsbCwgZmFsbGJhY2s6IFQpOiBUIHtcbiAgaWYgKCFyYXcpIHJldHVybiBmYWxsYmFjaztcbiAgdHJ5IHtcbiAgICByZXR1cm4gSlNPTi5wYXJzZShyYXcpIGFzIFQ7XG4gIH0gY2F0Y2gge1xuICAgIHJldHVybiBmYWxsYmFjaztcbiAgfVxufVxuXG5mdW5jdGlvbiB0b051bWJlcih2OiBhbnksIGZhbGxiYWNrOiBudW1iZXIpIHtcbiAgY29uc3QgbiA9IE51bWJlcih2KTtcbiAgcmV0dXJuIE51bWJlci5pc0Zpbml0ZShuKSA/IG4gOiBmYWxsYmFjaztcbn1cblxuZnVuY3Rpb24gbm9ybWFsaXplT2ZmZXIobzogYW55KTogUHJvamVjdE9mZmVyIHtcbiAgcmV0dXJuIHtcbiAgICBpZDogU3RyaW5nKG8/LmlkIHx8IHVpZCgnb2ZmZXInKSksXG4gICAgcHJvamVjdElkOiBTdHJpbmcobz8ucHJvamVjdElkIHx8ICcnKSxcbiAgICBwcm9FbWFpbDogU3RyaW5nKG8/LnByb0VtYWlsIHx8ICcnKS50b0xvd2VyQ2FzZSgpLFxuICAgIHByaWNlRXVyOiB0b051bWJlcihvPy5wcmljZUV1ciwgMCksXG4gICAgZHVyYXRpb25EYXlzOiB0b051bWJlcihvPy5kdXJhdGlvbkRheXMsIDApLFxuICAgIG1lc3NhZ2U6IG8/Lm1lc3NhZ2UgPyBTdHJpbmcoby5tZXNzYWdlKSA6IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVkQXQ6IHRvTnVtYmVyKG8/LmNyZWF0ZWRBdCwgbm93KCkpLFxuICB9O1xufVxuXG5mdW5jdGlvbiBub3JtYWxpemVQcm9qZWN0KHA6IGFueSk6IFByb2plY3Qge1xuICByZXR1cm4ge1xuICAgIGlkOiBTdHJpbmcocD8uaWQgfHwgdWlkKCdwcm9qJykpLFxuICAgIG93bmVyRW1haWw6IFN0cmluZyhwPy5vd25lckVtYWlsIHx8ICcnKS50b0xvd2VyQ2FzZSgpLFxuICAgIHRpdGxlOiBTdHJpbmcocD8udGl0bGUgfHwgJycpLFxuICAgIGNhdGVnb3J5OiAocD8uY2F0ZWdvcnkgYXMgUHJvamVjdENhdGVnb3J5KSB8fCAnYXV0cmUnLFxuICAgIGRlc2NyaXB0aW9uOiBTdHJpbmcocD8uZGVzY3JpcHRpb24gfHwgJycpLFxuICAgIGNpdHk6IHA/LmNpdHkgPyBTdHJpbmcocC5jaXR5KSA6IHVuZGVmaW5lZCxcbiAgICBjcmVhdGVkQXQ6IHRvTnVtYmVyKHA/LmNyZWF0ZWRBdCwgbm93KCkpLFxuICAgIHN0YXR1czogKHA/LnN0YXR1cyBhcyBQcm9qZWN0U3RhdHVzKSB8fCAnb3BlbicsXG4gICAgYXNzaWduZWRQcm9FbWFpbDogcD8uYXNzaWduZWRQcm9FbWFpbCA/IFN0cmluZyhwLmFzc2lnbmVkUHJvRW1haWwpLnRvTG93ZXJDYXNlKCkgOiB1bmRlZmluZWQsXG4gICAgYWNjZXB0ZWRPZmZlcklkOiBwPy5hY2NlcHRlZE9mZmVySWQgPyBTdHJpbmcocC5hY2NlcHRlZE9mZmVySWQpIDogdW5kZWZpbmVkLFxuICAgIG9mZmVyczogQXJyYXkuaXNBcnJheShwPy5vZmZlcnMpID8gcC5vZmZlcnMubWFwKG5vcm1hbGl6ZU9mZmVyKSA6IFtdLFxuICB9O1xufVxuXG5mdW5jdGlvbiBsb2FkQWxsKCk6IFByb2plY3RbXSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ID09PSAndW5kZWZpbmVkJykgcmV0dXJuIFtdO1xuICBjb25zdCBkYXRhID0gc2FmZUpzb25QYXJzZTxhbnlbXT4obG9jYWxTdG9yYWdlLmdldEl0ZW0oTFNfS0VZKSwgW10pO1xuICBpZiAoIUFycmF5LmlzQXJyYXkoZGF0YSkpIHJldHVybiBbXTtcbiAgcmV0dXJuIGRhdGEubWFwKG5vcm1hbGl6ZVByb2plY3QpO1xufVxuXG5mdW5jdGlvbiBzYXZlQWxsKHByb2plY3RzOiBQcm9qZWN0W10pIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgPT09ICd1bmRlZmluZWQnKSByZXR1cm47XG4gIGxvY2FsU3RvcmFnZS5zZXRJdGVtKExTX0tFWSwgSlNPTi5zdHJpbmdpZnkocHJvamVjdHMpKTtcbn1cblxuLy8gLS0tLS0tLS0tLSBIZWxwZXJzIFVJIC0tLS0tLS0tLS1cbmV4cG9ydCBmdW5jdGlvbiBsYWJlbENhdGVnb3J5KGNhdDogUHJvamVjdENhdGVnb3J5KSB7XG4gIHN3aXRjaCAoY2F0KSB7XG4gICAgY2FzZSAncmVub3ZhdGlvbic6XG4gICAgICByZXR1cm4gJ1LDqW5vdmF0aW9uJztcbiAgICBjYXNlICdwbG9tYmVyaWUnOlxuICAgICAgcmV0dXJuICdQbG9tYmVyaWUnO1xuICAgIGNhc2UgJ2VsZWN0cmljaXRlJzpcbiAgICAgIHJldHVybiAnw4lsZWN0cmljaXTDqSc7XG4gICAgY2FzZSAncGVpbnR1cmUnOlxuICAgICAgcmV0dXJuICdQZWludHVyZSc7XG4gICAgY2FzZSAnbWVudWlzZXJpZSc6XG4gICAgICByZXR1cm4gJ01lbnVpc2VyaWUnO1xuICAgIGNhc2UgJ2phcmRpbic6XG4gICAgICByZXR1cm4gJ0phcmRpbic7XG4gICAgZGVmYXVsdDpcbiAgICAgIHJldHVybiAnQXV0cmUnO1xuICB9XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBmb3JtYXRFdXJvKHZhbHVlOiBudW1iZXIpIHtcbiAgdHJ5IHtcbiAgICByZXR1cm4gbmV3IEludGwuTnVtYmVyRm9ybWF0KCdmci1GUicsIHsgc3R5bGU6ICdjdXJyZW5jeScsIGN1cnJlbmN5OiAnRVVSJyB9KS5mb3JtYXQodmFsdWUpO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gYCR7dmFsdWV9IOKCrGA7XG4gIH1cbn1cblxuLyoqXG4gKiBJTVBPUlRBTlQgKHByaXZhY3kpIDpcbiAqIC0gUEFTIGRlIHNlZWQgYXV0b21hdGlxdWUuXG4gKiBTaSB0dSB2ZXV4IHVuIHNlZWQgcG91ciBkw6ltbywgYXBwZWxsZSBjZXR0ZSBmb25jdGlvbiBNQU5VRUxMRU1FTlRcbiAqIGRlcHVpcyB1bmUgcGFnZSBkZSBkZXYsIGV0IHNldWxlbWVudCBwb3VyIGwnZW1haWwgY29uY2VybsOpLlxuICovXG5leHBvcnQgZnVuY3Rpb24gZGVidWdTZWVkRm9yRW1haWwob3duZXJFbWFpbEZvclNhbXBsZXM6IHN0cmluZykge1xuICBjb25zdCBlbWFpbCA9IG93bmVyRW1haWxGb3JTYW1wbGVzLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIWVtYWlsKSByZXR1cm47XG5cbiAgY29uc3QgYWxsID0gbG9hZEFsbCgpO1xuICBjb25zdCBhbHJlYWR5SGFzID0gYWxsLnNvbWUoKHApID0+IHAub3duZXJFbWFpbCA9PT0gZW1haWwpO1xuICBpZiAoYWxyZWFkeUhhcykgcmV0dXJuO1xuXG4gIGNvbnN0IHNhbXBsZTogUHJvamVjdFtdID0gW1xuICAgIHtcbiAgICAgIGlkOiB1aWQoJ3Byb2onKSxcbiAgICAgIG93bmVyRW1haWw6IGVtYWlsLFxuICAgICAgdGl0bGU6ICdQb3NlIGRlIHBhcnF1ZXQgKHNhbG9uIDIwbcKyKScsXG4gICAgICBjYXRlZ29yeTogJ3Jlbm92YXRpb24nLFxuICAgICAgZGVzY3JpcHRpb246XG4gICAgICAgICdKZSBzb3VoYWl0ZSBwb3NlciB1biBwYXJxdWV0IHN0cmF0aWZpw6kgZGFucyB1biBzYWxvbi4gTGUgc29sIGVzdCBwbGF0LiBNZXJjaSBkZSBwcm9wb3NlciB1biBwcml4ICsgZHVyw6llLicsXG4gICAgICBjaXR5OiAnTWFzc3knLFxuICAgICAgY3JlYXRlZEF0OiBub3coKSAtIDEwMDAgKiA2MCAqIDYwICogMjQgKiAyLFxuICAgICAgc3RhdHVzOiAnb3BlbicsXG4gICAgICBvZmZlcnM6IFtdLFxuICAgIH0sXG4gICAge1xuICAgICAgaWQ6IHVpZCgncHJvaicpLFxuICAgICAgb3duZXJFbWFpbDogZW1haWwsXG4gICAgICB0aXRsZTogJ1JlbXBsYWNlbWVudCByb2JpbmV0IGN1aXNpbmUnLFxuICAgICAgY2F0ZWdvcnk6ICdwbG9tYmVyaWUnLFxuICAgICAgZGVzY3JpcHRpb246ICdSb2JpbmV0IHF1aSBmdWl0LiBSZW1wbGFjZW1lbnQgKyB2w6lyaWZpY2F0aW9uIMOpdGFuY2jDqWl0w6kuJyxcbiAgICAgIGNpdHk6ICdQYXJpcycsXG4gICAgICBjcmVhdGVkQXQ6IG5vdygpIC0gMTAwMCAqIDYwICogNjAgKiAyNCxcbiAgICAgIHN0YXR1czogJ29wZW4nLFxuICAgICAgb2ZmZXJzOiBbXSxcbiAgICB9LFxuICBdO1xuXG4gIHNhdmVBbGwoWy4uLnNhbXBsZSwgLi4uYWxsXSk7XG59XG5cbi8vIC0tLS0tLS0tLS0gQ1JVRCAtLS0tLS0tLS0tXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlUHJvamVjdChpbnB1dDoge1xuICBvd25lckVtYWlsOiBzdHJpbmc7XG4gIHRpdGxlOiBzdHJpbmc7XG4gIGNhdGVnb3J5OiBQcm9qZWN0Q2F0ZWdvcnk7XG4gIGRlc2NyaXB0aW9uOiBzdHJpbmc7XG4gIGNpdHk/OiBzdHJpbmc7XG59KTogUHJvamVjdCB7XG4gIGNvbnN0IG93bmVyRW1haWwgPSBpbnB1dC5vd25lckVtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIW93bmVyRW1haWwpIHRocm93IG5ldyBFcnJvcignT3duZXIgZW1haWwgcmVxdWlzLicpO1xuICBpZiAoIWlucHV0LnRpdGxlLnRyaW0oKSkgdGhyb3cgbmV3IEVycm9yKCdUaXRyZSByZXF1aXMuJyk7XG4gIGlmICghaW5wdXQuZGVzY3JpcHRpb24udHJpbSgpKSB0aHJvdyBuZXcgRXJyb3IoJ0Rlc2NyaXB0aW9uIHJlcXVpc2UuJyk7XG5cbiAgY29uc3QgcHJvamVjdHMgPSBsb2FkQWxsKCk7XG5cbiAgY29uc3QgcDogUHJvamVjdCA9IHtcbiAgICBpZDogdWlkKCdwcm9qJyksXG4gICAgb3duZXJFbWFpbCxcbiAgICB0aXRsZTogaW5wdXQudGl0bGUudHJpbSgpLFxuICAgIGNhdGVnb3J5OiBpbnB1dC5jYXRlZ29yeSxcbiAgICBkZXNjcmlwdGlvbjogaW5wdXQuZGVzY3JpcHRpb24udHJpbSgpLFxuICAgIGNpdHk6IGlucHV0LmNpdHk/LnRyaW0oKSB8fCB1bmRlZmluZWQsXG4gICAgY3JlYXRlZEF0OiBub3coKSxcbiAgICBzdGF0dXM6ICdvcGVuJyxcbiAgICBvZmZlcnM6IFtdLFxuICB9O1xuXG4gIHByb2plY3RzLnVuc2hpZnQocCk7XG4gIHNhdmVBbGwocHJvamVjdHMpO1xuICByZXR1cm4gcDtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGxpc3RNeVByb2plY3RzKG93bmVyRW1haWw6IHN0cmluZyk6IFByb2plY3RbXSB7XG4gIGNvbnN0IGVtYWlsID0gb3duZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3QgcHJvamVjdHMgPSBsb2FkQWxsKCk7XG4gIHJldHVybiBwcm9qZWN0c1xuICAgIC5maWx0ZXIoKHApID0+IHAub3duZXJFbWFpbCA9PT0gZW1haWwpXG4gICAgLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0IC0gYS5jcmVhdGVkQXQpO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gbGlzdE9wZW5Qcm9qZWN0cyhmaWx0ZXI/OiB7IGNhdGVnb3J5PzogUHJvamVjdENhdGVnb3J5IH0pOiBQcm9qZWN0W10ge1xuICBjb25zdCBwcm9qZWN0cyA9IGxvYWRBbGwoKTtcbiAgY29uc3Qgb3BlbiA9IHByb2plY3RzLmZpbHRlcigocCkgPT4gcC5zdGF0dXMgPT09ICdvcGVuJyk7XG4gIGNvbnN0IGZpbHRlcmVkID0gZmlsdGVyPy5jYXRlZ29yeSA/IG9wZW4uZmlsdGVyKChwKSA9PiBwLmNhdGVnb3J5ID09PSBmaWx0ZXIuY2F0ZWdvcnkpIDogb3BlbjtcbiAgcmV0dXJuIGZpbHRlcmVkLnNvcnQoKGEsIGIpID0+IGIuY3JlYXRlZEF0IC0gYS5jcmVhdGVkQXQpO1xufVxuXG4vLyBBbGlhcyBhdHRlbmR1IHBhciB0ZXMgcGFnZXNcbmV4cG9ydCBmdW5jdGlvbiBnZXRQcm9qZWN0KGlkOiBzdHJpbmcpOiBQcm9qZWN0IHwgbnVsbCB7XG4gIHJldHVybiBnZXRQcm9qZWN0QnlJZChpZCk7XG59XG5leHBvcnQgZnVuY3Rpb24gZ2V0UHJvamVjdEJ5SWQoaWQ6IHN0cmluZyk6IFByb2plY3QgfCBudWxsIHtcbiAgY29uc3QgcHJvamVjdHMgPSBsb2FkQWxsKCk7XG4gIHJldHVybiBwcm9qZWN0cy5maW5kKChwKSA9PiBwLmlkID09PSBpZCkgPz8gbnVsbDtcbn1cblxuLy8gQWxpYXMgYXR0ZW5kdSBwYXIgdGVzIHBhZ2VzXG5leHBvcnQgZnVuY3Rpb24gbGlzdE9mZmVycyhwcm9qZWN0SWQ6IHN0cmluZyk6IFByb2plY3RPZmZlcltdIHtcbiAgY29uc3QgcCA9IGdldFByb2plY3RCeUlkKHByb2plY3RJZCk7XG4gIHJldHVybiBwPy5vZmZlcnMgPz8gW107XG59XG5cbi8vIEFsaWFzIGF0dGVuZHUgcGFyIHRlcyBwYWdlcyAoY3JlYXRlT2ZmZXIpXG5leHBvcnQgZnVuY3Rpb24gY3JlYXRlT2ZmZXIoaW5wdXQ6IHtcbiAgcHJvamVjdElkOiBzdHJpbmc7XG4gIHByb0VtYWlsOiBzdHJpbmc7XG4gIHByaWNlRXVyOiBudW1iZXI7XG4gIGR1cmF0aW9uRGF5czogbnVtYmVyO1xuICBtZXNzYWdlPzogc3RyaW5nO1xufSk6IFByb2plY3RPZmZlciB7XG4gIHJldHVybiBhZGRPZmZlcihpbnB1dCk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBhZGRPZmZlcihpbnB1dDoge1xuICBwcm9qZWN0SWQ6IHN0cmluZztcbiAgcHJvRW1haWw6IHN0cmluZztcbiAgcHJpY2VFdXI6IG51bWJlcjtcbiAgZHVyYXRpb25EYXlzOiBudW1iZXI7XG4gIG1lc3NhZ2U/OiBzdHJpbmc7XG59KTogUHJvamVjdE9mZmVyIHtcbiAgY29uc3QgcHJvamVjdHMgPSBsb2FkQWxsKCk7XG4gIGNvbnN0IHAgPSBwcm9qZWN0cy5maW5kKCh4KSA9PiB4LmlkID09PSBpbnB1dC5wcm9qZWN0SWQpO1xuICBpZiAoIXApIHRocm93IG5ldyBFcnJvcignUHJvamV0IGludHJvdXZhYmxlLicpO1xuICBpZiAocC5zdGF0dXMgIT09ICdvcGVuJykgdGhyb3cgbmV3IEVycm9yKFwiQ2UgcHJvamV0IG4nYWNjZXB0ZSBwbHVzIGQnb2ZmcmVzLlwiKTtcblxuICBjb25zdCBwcm9FbWFpbCA9IGlucHV0LnByb0VtYWlsLnRyaW0oKS50b0xvd2VyQ2FzZSgpO1xuICBpZiAoIXByb0VtYWlsKSB0aHJvdyBuZXcgRXJyb3IoJ0VtYWlsIHBybyByZXF1aXMuJyk7XG5cbiAgY29uc3Qgb2ZmZXI6IFByb2plY3RPZmZlciA9IHtcbiAgICBpZDogdWlkKCdvZmZlcicpLFxuICAgIHByb2plY3RJZDogaW5wdXQucHJvamVjdElkLFxuICAgIHByb0VtYWlsLFxuICAgIHByaWNlRXVyOiB0b051bWJlcihpbnB1dC5wcmljZUV1ciwgMCksXG4gICAgZHVyYXRpb25EYXlzOiB0b051bWJlcihpbnB1dC5kdXJhdGlvbkRheXMsIDApLFxuICAgIG1lc3NhZ2U6IGlucHV0Lm1lc3NhZ2U/LnRyaW0oKSB8fCB1bmRlZmluZWQsXG4gICAgY3JlYXRlZEF0OiBub3coKSxcbiAgfTtcblxuICBwLm9mZmVycy51bnNoaWZ0KG9mZmVyKTtcbiAgc2F2ZUFsbChwcm9qZWN0cyk7XG4gIHJldHVybiBvZmZlcjtcbn1cblxuLy8gRGV1eCBzaWduYXR1cmVzIHN1cHBvcnTDqWVzIChwb3VyIMOpdml0ZXIgdGVzIHLDqWdyZXNzaW9ucylcbmV4cG9ydCBmdW5jdGlvbiBhY2NlcHRPZmZlcihwcm9qZWN0SWQ6IHN0cmluZywgb2ZmZXJJZDogc3RyaW5nKTogdm9pZDtcbmV4cG9ydCBmdW5jdGlvbiBhY2NlcHRPZmZlcihpbnB1dDogeyBwcm9qZWN0SWQ6IHN0cmluZzsgb2ZmZXJJZDogc3RyaW5nOyBvd25lckVtYWlsOiBzdHJpbmcgfSk6IHZvaWQ7XG5leHBvcnQgZnVuY3Rpb24gYWNjZXB0T2ZmZXIoYTogYW55LCBiPzogYW55KSB7XG4gIGlmICh0eXBlb2YgYSA9PT0gJ3N0cmluZycpIHtcbiAgICAvLyBhY2NlcHRPZmZlcihwcm9qZWN0SWQsIG9mZmVySWQpXG4gICAgY29uc3QgcHJvamVjdElkID0gYTtcbiAgICBjb25zdCBvZmZlcklkID0gU3RyaW5nKGIgfHwgJycpO1xuICAgIHJldHVybiBhY2NlcHRPZmZlckludGVybmFsKHsgcHJvamVjdElkLCBvZmZlcklkIH0pO1xuICB9XG4gIC8vIGFjY2VwdE9mZmVyKHsgcHJvamVjdElkLCBvZmZlcklkLCBvd25lckVtYWlsIH0pXG4gIHJldHVybiBhY2NlcHRPZmZlckludGVybmFsKGEpO1xufVxuXG5mdW5jdGlvbiBhY2NlcHRPZmZlckludGVybmFsKGlucHV0OiB7IHByb2plY3RJZDogc3RyaW5nOyBvZmZlcklkOiBzdHJpbmc7IG93bmVyRW1haWw/OiBzdHJpbmcgfSkge1xuICBjb25zdCBwcm9qZWN0cyA9IGxvYWRBbGwoKTtcbiAgY29uc3QgcCA9IHByb2plY3RzLmZpbmQoKHgpID0+IHguaWQgPT09IGlucHV0LnByb2plY3RJZCk7XG4gIGlmICghcCkgdGhyb3cgbmV3IEVycm9yKCdQcm9qZXQgaW50cm91dmFibGUuJyk7XG4gIGlmIChwLnN0YXR1cyAhPT0gJ29wZW4nKSB0aHJvdyBuZXcgRXJyb3IoJ1Byb2pldCBkw6lqw6AgdHJhaXTDqS4nKTtcblxuICBpZiAoaW5wdXQub3duZXJFbWFpbCkge1xuICAgIGNvbnN0IG93bmVyID0gaW5wdXQub3duZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgICBpZiAocC5vd25lckVtYWlsICE9PSBvd25lcikgdGhyb3cgbmV3IEVycm9yKCdBY2PDqHMgcmVmdXPDqS4nKTtcbiAgfVxuXG4gIGNvbnN0IG9mZmVyID0gcC5vZmZlcnMuZmluZCgobykgPT4gby5pZCA9PT0gaW5wdXQub2ZmZXJJZCk7XG4gIGlmICghb2ZmZXIpIHRocm93IG5ldyBFcnJvcignT2ZmcmUgaW50cm91dmFibGUuJyk7XG5cbiAgcC5zdGF0dXMgPSAnYXNzaWduZWQnO1xuICBwLmFzc2lnbmVkUHJvRW1haWwgPSBvZmZlci5wcm9FbWFpbDtcbiAgcC5hY2NlcHRlZE9mZmVySWQgPSBvZmZlci5pZDtcblxuICBzYXZlQWxsKHByb2plY3RzKTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGNhbkNoYXQocHJvamVjdDogUHJvamVjdCwgdXNlckVtYWlsOiBzdHJpbmcpIHtcbiAgY29uc3QgZSA9IHVzZXJFbWFpbC50cmltKCkudG9Mb3dlckNhc2UoKTtcbiAgY29uc3Qgb3duZXIgPSBwcm9qZWN0Lm93bmVyRW1haWwgPT09IGU7XG4gIGNvbnN0IHBybyA9IHByb2plY3QuYXNzaWduZWRQcm9FbWFpbD8udG9Mb3dlckNhc2UoKSA9PT0gZTtcbiAgcmV0dXJuIHByb2plY3Quc3RhdHVzID09PSAnYXNzaWduZWQnICYmIChvd25lciB8fCBwcm8pO1xufVxuIl0sIm5hbWVzIjpbIkxTX0tFWSIsIm5vdyIsIkRhdGUiLCJ1aWQiLCJwcmVmaXgiLCJNYXRoIiwicmFuZG9tIiwidG9TdHJpbmciLCJzbGljZSIsInNhZmVKc29uUGFyc2UiLCJyYXciLCJmYWxsYmFjayIsIkpTT04iLCJwYXJzZSIsInRvTnVtYmVyIiwidiIsIm4iLCJOdW1iZXIiLCJpc0Zpbml0ZSIsIm5vcm1hbGl6ZU9mZmVyIiwibyIsImlkIiwiU3RyaW5nIiwicHJvamVjdElkIiwicHJvRW1haWwiLCJ0b0xvd2VyQ2FzZSIsInByaWNlRXVyIiwiZHVyYXRpb25EYXlzIiwibWVzc2FnZSIsInVuZGVmaW5lZCIsImNyZWF0ZWRBdCIsIm5vcm1hbGl6ZVByb2plY3QiLCJwIiwib3duZXJFbWFpbCIsInRpdGxlIiwiY2F0ZWdvcnkiLCJkZXNjcmlwdGlvbiIsImNpdHkiLCJzdGF0dXMiLCJhc3NpZ25lZFByb0VtYWlsIiwiYWNjZXB0ZWRPZmZlcklkIiwib2ZmZXJzIiwiQXJyYXkiLCJpc0FycmF5IiwibWFwIiwibG9hZEFsbCIsImRhdGEiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwic2F2ZUFsbCIsInByb2plY3RzIiwic2V0SXRlbSIsInN0cmluZ2lmeSIsImxhYmVsQ2F0ZWdvcnkiLCJjYXQiLCJmb3JtYXRFdXJvIiwidmFsdWUiLCJJbnRsIiwiTnVtYmVyRm9ybWF0Iiwic3R5bGUiLCJjdXJyZW5jeSIsImZvcm1hdCIsImRlYnVnU2VlZEZvckVtYWlsIiwib3duZXJFbWFpbEZvclNhbXBsZXMiLCJlbWFpbCIsInRyaW0iLCJhbGwiLCJhbHJlYWR5SGFzIiwic29tZSIsInNhbXBsZSIsImNyZWF0ZVByb2plY3QiLCJpbnB1dCIsIkVycm9yIiwidW5zaGlmdCIsImxpc3RNeVByb2plY3RzIiwiZmlsdGVyIiwic29ydCIsImEiLCJiIiwibGlzdE9wZW5Qcm9qZWN0cyIsIm9wZW4iLCJmaWx0ZXJlZCIsImdldFByb2plY3QiLCJnZXRQcm9qZWN0QnlJZCIsImZpbmQiLCJsaXN0T2ZmZXJzIiwiY3JlYXRlT2ZmZXIiLCJhZGRPZmZlciIsIngiLCJvZmZlciIsImFjY2VwdE9mZmVyIiwib2ZmZXJJZCIsImFjY2VwdE9mZmVySW50ZXJuYWwiLCJvd25lciIsImNhbkNoYXQiLCJwcm9qZWN0IiwidXNlckVtYWlsIiwiZSIsInBybyJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./src/lib/projects-store.ts\n"));

/***/ })

});